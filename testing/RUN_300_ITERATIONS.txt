================================================================================
        300-ITERATION TRAINING WITH CPU/GPU MONITORING
================================================================================

üìç QUICK START
--------------

$ cd /mnt/project_modelware/lizikang/DanZero
$ bash testing/scripts/train_with_monitoring.sh

‚è±Ô∏è  Duration: ~20-25 minutes
üìä Output: testing/outputs/monitoring_[timestamp]/

================================================================================
üìÅ OUTPUT FILES
--------------

1. cpu_utilization.log
   ‚Ä¢ CPU usage % + load averages
   ‚Ä¢ Sampled every 1 second
   ‚Ä¢ CSV format

2. gpu_utilization.log
   ‚Ä¢ GPU 0 & GPU 1 metrics
   ‚Ä¢ Compute %, memory %, temp, power
   ‚Ä¢ Sampled every 1 second
   ‚Ä¢ CSV format

3. training_metrics.json
   ‚Ä¢ Iteration times
   ‚Ä¢ Episodes completed
   ‚Ä¢ Rewards
   ‚Ä¢ JSON format

4. monitoring_results.png (after visualization)
   ‚Ä¢ 9-panel plot
   ‚Ä¢ All metrics over time

================================================================================
üìà VISUALIZE RESULTS
-------------------

After training completes:

$ python testing/scripts/visualize_monitoring.py testing/outputs/monitoring_[timestamp]

Generates:
  ‚Ä¢ Console statistics summary
  ‚Ä¢ monitoring_results.png plot

================================================================================
üéØ TARGET METRICS (150 workers √ó 4 envs)
---------------------------------------

CPU: 70-80% mean
GPU 0: 20-40% mean (learner, CPU-bound)
GPU 1: 5-15% mean (idle)
Memory: 10-15 GB per GPU (stable)
Iteration: 3-5s steady state

================================================================================
‚öôÔ∏è  CUSTOMIZE
------------

Edit train_with_monitoring.sh:

Line 13: NUM_ITERATIONS=300     # Change duration
Line 14: NUM_WORKERS=150        # Change parallelism
Line 15: NUM_ENVS_PER_WORKER=4  # Change env count
Line 16: MONITORING_INTERVAL=1  # Change sample rate

================================================================================
üî¨ WHAT TO CHECK
---------------

1. Is CPU utilization 70-80%? (Target for optimization)
2. Is GPU 0 showing activity? (Learner should be working)
3. Is GPU memory stable? (No leaks)
4. Are iteration times consistent? (Stable configuration)
5. Are episodes being completed? (Training progressing)

================================================================================
‚úÖ WORKFLOW
----------

1. Run 300-iteration test
2. Review console summary
3. Visualize with Python script
4. Examine plots for patterns
5. Adjust configuration if needed
6. Re-run and compare
7. When satisfied ‚Üí run production training

================================================================================
üí° TIPS
------

‚Ä¢ First iteration is slower (initialization)
‚Ä¢ CPU should stabilize after ~20 iterations
‚Ä¢ Watch for growing GPU memory (leak indicator)
‚Ä¢ Compare multiple runs to find optimal config
‚Ä¢ CSV logs can be loaded in Excel/spreadsheet

================================================================================

